<div class="personal-info-container">
  <h2>Datos Personales</h2>
  <p class="subtitle">Por favor completa tus datos para continuar con la prueba</p>
  
  <form [formGroup]="personalInfoFormGroup" (ngSubmit)="onSaveForm($event)" class="personal-info-form">
    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Nombre completo</mat-label>
        <input matInput formControlName="name" placeholder="Ingresa tu nombre completo" required>
        <mat-error *ngIf="personalInfoFormGroup.get('name')?.hasError('required')">
          El nombre es requerido
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Edad</mat-label>
        <input matInput type="number" formControlName="age" placeholder="Ingresa tu edad" required>
        <mat-error *ngIf="personalInfoFormGroup.get('age')?.hasError('required')">
          La edad es requerida
        </mat-error>
        <mat-error *ngIf="personalInfoFormGroup.get('age')?.hasError('min') || personalInfoFormGroup.get('age')?.hasError('max')">
          La edad debe estar entre 18 y 100 años
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Género</mat-label>
        <mat-select formControlName="gender" required>
          <mat-option *ngFor="let gender of genderOptions" [value]="gender">
            {{ gender }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="personalInfoFormGroup.get('gender')?.hasError('required')">
          El género es requerido
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Nivel educativo</mat-label>
        <mat-select formControlName="educationLevel" required>
          <mat-option *ngFor="let level of educationLevels" [value]="level">
            {{ level }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="personalInfoFormGroup.get('educationLevel')?.hasError('required')">
          El nivel educativo es requerido
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Ocupación</mat-label>
        <input matInput formControlName="occupation" placeholder="¿A qué te dedicas?">
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Ciudad</mat-label>
        <input matInput formControlName="city" placeholder="Ciudad donde vives" required>
        <mat-error *ngIf="personalInfoFormGroup.get('city')?.hasError('required')">
          La ciudad es requerida
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Correo electrónico (opcional)</mat-label>
        <input matInput formControlName="email" type="email" placeholder="tucorreo@ejemplo.com">
        <mat-error *ngIf="personalInfoFormGroup.get('email')?.hasError('email')">
          Por favor ingresa un correo electrónico válido
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-actions">
      <button 
        type="button" 
        mat-button 
        (click)="back()"
        class="back-button">
        <mat-icon>arrow_back</mat-icon>
        <span>Regresar</span>
      </button>
      
      <button 
        type="submit" 
        mat-raised-button 
        color="primary"
        [disabled]="!personalInfoFormGroup.valid"
        class="submit-button">
        <span>Continuar</span>
        <mat-icon>arrow_forward</mat-icon>
      </button>
    </div>
  </form>
</div>
